(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{286:function(t,e,o){"use strict";var r=o(2),a=o.n(r),i=o(17),n=o(6);function s(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,r)}return o}function c(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?s(Object(o),!0).forEach((function(e){a()(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):s(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}var d=["content","creationDate","deleted","markdown","modificationDate","pinned","tags"];class p extends i.EventEmitter{constructor(t){var e;super(),e=this,a()(this,"importNote",(function(t){var{isTrashed:o=!1,isMarkdown:r=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=Object(n.pick)(t,d);a.publishURL="",a.shareURL="",a.deleted=o,a.tags=Object(n.get)(a,"tags",[]),a.systemTags=Object(n.get)(a,"systemTags",[]),a.pinned&&(a.systemTags.push("pinned"),delete a.pinned),(a.markdown||r)&&(a.systemTags.push("markdown"),delete a.markdown),a.creationDate&&isNaN(a.creationDate)&&(a.creationDate=new Date(a.creationDate).getTime()/1e3),a.creationDate=a.creationDate||a.modificationDate||Date.now(),a.modificationDate=a.modificationDate||a.creationDate||Date.now(),Object.prototype.hasOwnProperty.call(a,"content")||(a.content=""),a.tags&&a.tags.map(t=>{Object(n.isEmpty)(t)}),e.addNote(a)})),a()(this,"importNotes",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=arguments.length>1?arguments[1]:void 0;if(Object(n.isEmpty)(t))e.emit("status","error","No notes to import.");else{if(t.activeNotes||t.trashedNotes){var r=Object(n.get)(t,"activeNotes",[]).map(t=>e.importNote(t,o)),a=Object(n.get)(t,"trashedNotes",[]).map(t=>e.importNote(t,c(c({},o),{},{isTrashed:!0})));return Promise.all(r.concat(a))}e.emit("status","error","Invalid import format: No active or trashed notes found.")}})),this.addNote=t}}e.a=p},972:function(t,e,o){"use strict";o.r(e);var r=o(2),a=o.n(r),i=o(17),n=o(286),s=o(6);class c extends i.EventEmitter{constructor(t,e){super(),a()(this,"importNotes",t=>{var e=new n.a(this.addNote),o=0,r="";if(t)for(var a=t=>{var a;if(/\.(txt|md)$/.test(null!==(a=null==t?void 0:t.name.toLowerCase())&&void 0!==a?a:"")&&!(t.size>1e6)){var i=new FileReader;i.onload=a=>{var i=a.target.result,n=t.name.substring(0,t.name.lastIndexOf("."));if(Object(s.startsWith)(i,n)||(i=n+"\n\n"+i),i){var c=t.lastModified/1e3;e.importNote({content:i,modificationDate:c,creationDate:c},this.options),o++,t.name===r?this.emit("status","complete",o):this.emit("status","progress",o)}},i.readAsText(t)}},i=0;i<t.length;i++){var c=t[i];i+1===t.length&&(r=c.name),a(c)}else this.emit("status","error","No files to import.")}),this.addNote=t,this.options=e}}e.default=c}}]);